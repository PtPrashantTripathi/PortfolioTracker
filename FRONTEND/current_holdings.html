<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Portfolio Tracker | Current Holdings</title>
        <link
            rel="apple-touch-icon"
            sizes="180x180"
            href="asset/icon/apple-touch-icon.png"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            href="asset/icon/favicon-32x32.png"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="16x16"
            href="asset/icon/favicon-16x16.png"
        />
        <link rel="manifest" href="asset/icon/site.webmanifest" />
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback"
        />
        <link
            rel="stylesheet"
            href="adminlte/plugins/fontawesome-free/css/all.min.css"
        />
        <link rel="stylesheet" href="adminlte/dist/css/adminlte.min.css" />
    </head>

    <body class="hold-transition layout-top-nav">
        <div class="wrapper">
            <nav class="main-header navbar navbar-expand-md navbar-light">
                <!-- class=navbar-white -->
                <div class="container">
                    <a href="index.html" class="navbar-brand">
                        <span class="brand-text">Portfolio Tracker</span>
                    </a>
                    <button
                        class="navbar-toggler order-1"
                        type="button"
                        data-toggle="collapse"
                        data-target="#navbarCollapse"
                        aria-controls="navbarCollapse"
                        aria-expanded="false"
                        aria-label="Toggle navigation"
                    >
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div
                        class="navbar-collapse order-3 collapse"
                        id="navbarCollapse"
                        style=""
                    >
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a href="index.html" class="nav-link">Home</a>
                            </li>
                            <li class="nav-item">
                                <a
                                    href="current_holdings.html"
                                    class="nav-link"
                                >
                                    Current Holdings</a
                                >
                            </li>
                            <!-- <li class="nav-item dropdown"><a id="dropdownSubMenu1" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link dropdown-toggle" >Dropdown</a ><ul aria-labelledby="dropdownSubMenu1" class="dropdown-menu border-0 shadow" ><li><a href="#" class="dropdown-item" >Some action</a></li><li><a href="#" class="dropdown-item" >Some other action</a ></li><li class="dropdown-divider"></li><li class="dropdown-submenu dropdown-hover"><a id="dropdownSubMenu2" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-item dropdown-toggle" >Hover for action</a ><ul aria-labelledby="dropdownSubMenu2" class="dropdown-menu border-0 shadow" ><li><a tabindex="-1" href="#" class="dropdown-item" >level 2</a ></li><li class="dropdown-submenu"><a id="dropdownSubMenu3" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="dropdown-item dropdown-toggle" >level 2</a ><ul aria-labelledby="dropdownSubMenu3" class="dropdown-menu border-0 shadow" ><li><a href="#" class="dropdown-item" >3rd level</a ></li><li><a href="#" class="dropdown-item" >3rd level</a ></li></ul></li><li><a href="#" class="dropdown-item" >level 2</a></li><li><a href="#" class="dropdown-item">level 2</a></li></ul></li></ul></li> -->
                        </ul>
                    </div>
                </div>
            </nav>
            <div class="content-wrapper">
                <div class="content-header">
                    <div class="container">
                        <div class="row mb-2">
                            <div class="col-sm-6">
                                <h1 class="m-0">Current Holdings</h1>
                            </div>
                            <div class="col-sm-6">
                                <ol class="breadcrumb float-sm-right">
                                    <li class="breadcrumb-item">
                                        <a href="#">Home</a>
                                    </li>
                                    <li class="breadcrumb-item active">
                                        Current Holdings
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="content">
                    <div class="container">
                        <div class="row" id="FinancialSummary"></div>
                        <div class="row">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h3 class="card-title">
                                            Current Holdings Table
                                        </h3>
                                    </div>
                                    <div class="card-body p-0">
                                        <div class="table-responsive">
                                            <table
                                                id="CurrentHoldingsTable"
                                                class="table m-0 table-bordered table-striped"
                                            ></table>
                                        </div>
                                    </div>
                                    <div class="card-footer clearfix">
                                        <a
                                            href="#FinancialSummary"
                                            class="btn btn-sm btn-secondary float-right"
                                            >View Summary</a
                                        >
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <footer class="main-footer">
                <div
                    >Copyright Â© 2023-2024 -
                    <a
                        href="https://github.com/ptprashanttripathi/PortfolioTracker"
                        >@PtPrashantTripathi</a
                    >
                    <span class="float-right d-inline">
                        All rights reserved.
                    </span>
                </div>
            </footer>
        </div>
        <script src="adminlte/plugins/jquery/jquery.min.js"></script>
        <script src="adminlte/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
        <script src="adminlte/dist/js/adminlte.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
        <script src="asset/js/script.js"></script>
        <script>
            async function main() {
                const apiData = await fetchApiData();
                loadCurrentHoldingsDataTable(apiData.current_holding_data);
                updateFinancialSummary(
                    apiData.financial_summary.invested_value,
                    apiData.financial_summary.current_value,
                    apiData.financial_summary.pnl_value
                );
            }
            window.onload = main();
        </script>
    </body>
</html>
